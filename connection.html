<script type="text/markdown" data-help-name="es-connection">
Configure a connection to Elasticsearch

### Options

: Name (string) : This node instance's name
: Nodes (string) : Space seperated list of Elasticsearch nodes to connect to
: Proxy (string) :  An optional proxy URL to connect via
: Request timeout (number) : Timeout for requests, leave 0/black for `@elastic/elasticsearch`'s default
: Credential (select) : Type of credential to use
: Identity (string) : Username for 'Basic'; ID for 'API Key'
: Secret (string) : The credential secret (password)

</script>

<script type="text/javascript">
    /*global RED*/
    RED.nodes.registerType('es-connection',{
        category: 'config',
        defaults: {
          name: {value:'', required: true},
          nodes: {value:'', required:true},
          proxy: {value:''},
          reqtimeout: {value:"0", validate: RED.validators.number()}
        },
        credentials: {
            cred: {type: "text"},
            ident: {type:"text"},
            secret: {type:"password"}
        },
        paletteLabel: "Elasticsearch connection",
        icon: 'elasticsearch.png',
        label: function() {
          return this.name || 'ES connection';
        }
    });
</script>

<script type="text/x-red" data-template-name="es-connection">
    <div class="form-row">
        <label for="node-config-input-name"><i class="fa fa-pencil"></i>Name</label>
        <input type="text" id="node-config-input-name">
    </div>
    <div class="form-row">
        <label for="node-config-input-nodes"><i class="fa fa-anchor"></i>ES Nodes</label>
        <input type="text" id="node-config-input-nodes" placeholder="http://localhost:9200 (spaces as separator)">
    </div>
    <div class="form-row">
        <label for="node-config-input-cred"><i class="fa fa-sign-in"></i> Credential</label>
        <select id="node-config-input-cred">
            <option value="">None (-/-)</option>
            <option value="basic"> Basic (UN/PW)</option>
            <option value="apikey_b64">B64 API Key (-/b64_key)</option>
            <option value="apikey_obj">API Key (id/key)</option>
            <option value="bearer">Bearer token (-/token)</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-config-input-ident"><i class="fa fa-id-card-o"></i> Identity</label>
        <input type="text" id="node-config-input-ident">
    </div>
    <div class="form-row">
        <label for="node-config-input-secret"><i class="fa fa-key"></i> Secret</label>
        <input type="password" id="node-config-input-secret">
    </div>
    <div class="form-row">
        <label for="node-config-input-proxy"><i class="fa fa-plus-circle"></i> Proxy</label>
        <input type="text" id="node-config-input-proxy">
    </div>
     <div class="form-row">
        <label for="node-config-input-reqtimeout"><i class="fs fa-clock-o"></i> Request Timeout</label>
        <input type="text" id="node-config-input-reqtimeout">
    </div>
</script>
